{"version":3,"file":"component---src-pages-guides-api-usage-adding-custom-domain-names-md-12164d94b89d5dd0378e.js","mappings":"gSAQaA,EAAe,GACtBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,8BADR,+BAGA,kKACA,oBACE,eAAIC,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,4BADQ,4CAGpB,eAAIA,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,gCADQ,oEAGpB,eAAIA,WAAW,OAAK,cAAGA,WAAW,KAC9B,KAAQ,2BADQ,4DAItB,+LACA,eACE,GAAM,2BADR,4BAGA,iEAAkD,uBAAYA,WAAW,KAAvB,kDAAlD,iHACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,kBADZ,sEAIL,wEACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,k6CA0CL,eACE,GAAM,+BADR,gCAGA,yKAA0J,uBAAYA,WAAW,KAAvB,aAA1J,YAA2N,uBAAYA,WAAW,KAAvB,kDAA3N,8BACA,uIACA,oBACE,eAAIA,WAAW,MAAf,wBACA,eAAIA,WAAW,MAAf,mBACA,eAAIA,WAAW,MAAf,wBAEF,qBAAK,iBAAMA,WAAW,MAClB,UAAa,kBADZ,sKASL,qIACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,2kCAiCL,eACE,GAAM,0BADR,2BAGA,gJAAiI,uBAAYA,WAAW,KAAvB,kDAAjI,+BACA,wFACA,oBACE,eAAIA,WAAW,MAAf,uBACA,eAAIA,WAAW,MAAf,mBACA,eAAIA,WAAW,MAAf,mBACA,eAAIA,WAAW,MAAf,yBACA,eAAIA,WAAW,MAAf,cAEF,qBAAK,iBAAMA,WAAW,MAClB,UAAa,kBADZ,iQAWL,4EACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,0yBA8BL,eACE,GAAM,eADR,gBAGA,uEACA,oBACE,eAAIA,WAAW,MAAf,uDACA,eAAIA,WAAW,MAAf,wFAMNJ,EAAWK,gBAAiB","sources":["webpack://cloudmanager-api-docs/./src/pages/guides/api-usage/adding-custom-domain-names.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/cloudmanager-api-docs/cloudmanager-api-docs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"adding-custom-domain-names\"\n    }}>{`Adding Custom Domain Names`}</h1>\n    <p>{`Custom domain names can be added to an environment in your AEM Cloud Service program through the Cloud Manager API. The steps required are:`}</p>\n    <ol>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#retrieve-custom-domains\"\n        }}>{`Retrieve the custom domains available.`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#obtain-dns-txt-record-value\"\n        }}>{`Obtain the DNS TXT record value of the domain you wish to add.`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#add-custom-domain-name\"\n        }}>{`Add the custom domain using the retrieved information`}</a></li>\n    </ol>\n    <p>{`This documents details the steps for adding custom domain names. Update, delete, and other APIs are available, but not covered in detail in this section.om domain name.`}</p>\n    <h2 {...{\n      \"id\": \"retrieve-custom-domains\"\n    }}>{`Retrieve Custom Domains`}</h2>\n    <p>{`Each program resource has a HAL link named `}<inlineCode parentName=\"p\">{`http://ns.adobe.com/adobecloud/rel/domainNames`}</inlineCode>{`. To generate a list of existing custom domain names in your program, execute a GET request to the HAL link.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`GET https://cloudmanager.adobe.io/api/program/1234/domainNames\n`}</code></pre>\n    <p>{`This will return a list similar to the following.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"_links\": {\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/certificates\": {\n            \"href\": \"/api/program/1234/certificates\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/deploy\": {\n            \"href\": \"/api/program/1234/domain-name/403/deploy\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/verify\": {\n            \"href\": \"/api/program/1234/domain-name/403/verify\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/environment\": {\n            \"href\": \"/api/program/1234/environment/1\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/program\": {\n            \"href\": \"/api/program/1234\",\n            \"templated\": false\n        },\n        \"self\": {\n            \"href\": \"/api/program/1234/domain-name/403\",\n            \"templated\": false\n        }\n    },\n    \"id\": 403,\n    \"name\": \"andu.yahoo.com\",\n    \"dnsTxtRecord\": \"adobe-aem-verification=andu.yahoo.com/53/2/504af30f-3d87-4bcf-a5a1-95ecc5fb035d\",\n    \"dnsZone\": \"yahoo.com.\",\n    \"environmentId\": 1,\n    \"certificateId\": 1,\n    \"createdAt\": \"2020-07-03T10:59:35.175+0000\",\n    \"updatedAt\": \"2020-07-03T10:59:35.175+0000\",\n    \"status\": \"not_verified\",\n    \"environmentName\": \"testenv-stage\",\n    \"certificateName\": \"default-certificate-name\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"obtain-dns-txt-record-value\"\n    }}>{`Obtain DNS TXT Record Value`}</h2>\n    <p>{`To add a custom domain, you must get a DNS TXT record value and zone for the domain name. In order to do this, execute a POST request by appending `}<inlineCode parentName=\"p\">{`/validate`}</inlineCode>{` to the `}<inlineCode parentName=\"p\">{`http://ns.adobe.com/adobecloud/rel/domainNames`}</inlineCode>{` HAL link of the program.`}</p>\n    <p>{`The body of the POST request must include the following in order to validate if the domain entry can be created.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Custom domain name `}</li>\n      <li parentName=\"ul\">{`Environment ID`}</li>\n      <li parentName=\"ul\">{`SSL certificate ID`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`POST https://cloudmanager.adobe.io/api/program/1234/domainNames/validate\n{\n    \"name\": \"andu.yahoo.com\",\n    \"environmentId\": 2,\n    \"certificateId\": 1\n}\n`}</code></pre>\n    <p>{`This will return a response body that contains the domain zone and a TXT record that is used as an identifier.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"_links\": {\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/certificates\": {\n            \"href\": \"/api/program/53/certificates\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/deploy\": {\n            \"href\": \"/api/program/53/domain-name//deploy\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/domain-name/verify\": {\n            \"href\": \"/api/program/53/domain-name//verify\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/environment\": {\n            \"href\": \"/api/program/53/environment/\",\n            \"templated\": false\n        },\n        \"http://ns.adobe.com/adobecloud/rel/program\": {\n            \"href\": \"/api/program/53\",\n            \"templated\": false\n        },\n        \"self\": {\n            \"href\": \"/api/program/53/domain-name/\",\n            \"templated\": false\n        }\n    },\n    \"dnsTxtRecord\": \"adobe-aem-verification=andu.yahoo.com/53/2/504af30f-3d87-4bcf-a5a1-95ecc5fb035d\",\n    \"dnsZone\": \"yahoo.com.\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"add-custom-domain-name\"\n    }}>{`Add Custom Domain Name`}</h2>\n    <p>{`Having retrieved the necessary information you can now add your custom domain name. To do this, execute a POST request to `}<inlineCode parentName=\"p\">{`http://ns.adobe.com/adobecloud/rel/domainNames`}</inlineCode>{` HAL link of the program. `}</p>\n    <p>{`The body of the POST request needs to include the following data.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Custom domain name`}</li>\n      <li parentName=\"ul\">{`Environment ID`}</li>\n      <li parentName=\"ul\">{`Certificate ID`}</li>\n      <li parentName=\"ul\">{`DNS TXT record value`}</li>\n      <li parentName=\"ul\">{`DNS zone`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`POST https://cloudmanager.adobe.io/api/program/1234/domainNames/\n{\n  \"name\": \"customer.domain.com\",\n  \"environmentId\": 0,\n  \"certificateId\": 0,\n  \"dnsTxtRecord\": \"adobe-aem-verification=www.adobe.com/1/2/ab-cd-ef\",\n  \"dnsZone\": \"adobe.com.\"\n}\n`}</code></pre>\n    <p>{`This will return a response similar to the following.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n\"id\": 0,\n\"name\": \"customer.domain.com\",\n\"status\": \"ready\",\n\"type\": \"CNAME\",\n\"dnsResolution\": [\n{}\n],\n\"dnsTxtRecord\": \"adobe-aem-verification=www.adobe.com/1/2/ab-cd-ef\",\n\"dnsZone\": \"adobe.com.\",\n\"environmentId\": 0,\n\"environmentName\": \"customerEnvironmentName\",\n\"tier\": \"publish\",\n\"certificateId\": 0,\n\"certificateName\": \"My certificate\",\n\"certificateExpireAt\": \"2019-08-24T14:15:22Z\",\n\"createdAt\": \"2019-08-24T14:15:22Z\",\n\"updatedAt\": \"2019-08-24T14:15:22Z\",\n\"_links\": {\n\"http://ns.adobe.com/adobecloud/rel/domainName/certificates\": {},\n\"http://ns.adobe.com/adobecloud/rel/domainName/deploy\": {},\n\"http://ns.adobe.com/adobecloud/rel/domainName/verify\": {},\n\"http://ns.adobe.com/adobecloud/rel/environment\": {},\n\"http://ns.adobe.com/adobecloud/rel/program\": {},\n\"self\": {}\n}\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"limitations\"\n    }}>{`Limitations`}</h2>\n    <p>{`Usage of this API has the following limitations.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`This API is applicable to AEM as a Cloud Service. `}</li>\n      <li parentName=\"ul\">{`Custom domain names can only be applied to production programs with Sites enabled.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}