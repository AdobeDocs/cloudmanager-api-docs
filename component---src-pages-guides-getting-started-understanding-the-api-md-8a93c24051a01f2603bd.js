(self.webpackChunkcloudmanager_api_docs=self.webpackChunkcloudmanager_api_docs||[]).push([[960],{21326:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return d},default:function(){return m}});var n=a(22122),r=a(19756),i=(a(15007),a(64983)),s=a(99536),o=["components"],d={},c={_frontmatter:d},p=s.Z;function m(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.mdx)(p,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"understanding-the-api"},"Understanding the API"),(0,i.mdx)("p",null,"The Cloud Manager API is composed of two components:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"An ",(0,i.mdx)("em",{parentName:"li"},"inbound")," HTTP-based API which can be used by Cloud Manager customers to read and manipulate the state of their CI/CD pipelines."),(0,i.mdx)("li",{parentName:"ul"},"An ",(0,i.mdx)("em",{parentName:"li"},"outbound")," event system which allows Cloud Manager customers to receive events when key events happen in their CI/CD pipelines.")),(0,i.mdx)("p",null,"While it is possible to use ",(0,i.mdx)("strong",{parentName:"p"},"only")," one or the other of these components, in most cases integrations will use both components. That said, it is best to start with just one, get it working, and then move on to the other component."),(0,i.mdx)("p",null,"The steps to get started are different for these two components. Read ",(0,i.mdx)("a",{parentName:"p",href:"create-api-integration.md"},"Create API Integration")," to get started with the inbound API and ",(0,i.mdx)("a",{parentName:"p",href:"create-event-integration.md"},"Create Event Integration")," to get started with the event API."),(0,i.mdx)("h2",{id:"resource-structure"},"Resource Structure"),(0,i.mdx)("p",null,"The HTTP API is designed to be resource-orientated. Cloud Manager entities are represented as individual resources in a structure based on the Hypertext Application Language (HAL) specification. Each resource is composed of three logical sections:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Regular properties of the resource, e.g. the name of a pipeline."),(0,i.mdx)("li",{parentName:"ul"},"Links to other resources, e.g. a link from a pipeline to the list of executions of that pipeline."),(0,i.mdx)("li",{parentName:"ul"},"Embedded resources, e.g. when retriving a list of pipelines, each pipeline is embedded in the list resource.")),(0,i.mdx)("p",null,"The embedded resources themselves may contain links and ",(0,i.mdx)("em",{parentName:"p"},"other")," embedded resources."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.25%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/cb523/hal-structure.webp 320w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/797b9/hal-structure.webp 640w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/4b075/hal-structure.webp 1280w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/43d96/hal-structure.webp 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/72799/hal-structure.png 320w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/6af66/hal-structure.png 640w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/21b4d/hal-structure.png 1280w","/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/29007/hal-structure.png 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/cloudmanager-api-docs/static/c5eafe66c446e0cfe306c8e6b6af6e6b/21b4d/hal-structure.png",alt:"HAL Resource Structure",title:"HAL Resource Structure",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("h3",{id:"links"},"Links"),(0,i.mdx)("p",null,'Links in a resource are defined using a link type (commonly called a "rel", short for relationship). The special link type ',(0,i.mdx)("inlineCode",{parentName:"p"},"self")," is a link to the resource itself. "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'"_links": {\n    "http://ns.adobe.com/adobecloud/rel/execution": {\n        "href": "/api/program/4/pipeline/1/execution",\n        "templated": false\n    },\n    "http://ns.adobe.com/adobecloud/rel/executions": {\n        "href": "/api/program/4/pipeline/1/executions",\n        "templated": false\n    },\n    "http://ns.adobe.com/adobecloud/rel/program": {\n        "href": "/api/program/4",\n        "templated": false\n    },\n    "self": {\n        "href": "/api/program/4/pipeline/1",\n        "templated": false\n    }\n}\n')),(0,i.mdx)("p",null,"Links may be ",(0,i.mdx)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc6570"},"URI Templates")," in which case the ",(0,i.mdx)("inlineCode",{parentName:"p"},"templated")," property would be ",(0,i.mdx)("inlineCode",{parentName:"p"},"true"),". Links may also be arrays."),(0,i.mdx)("h3",{id:"embedded-resources"},"Embedded Resources"),(0,i.mdx)("p",null,"Embedded resources are named, like links. In some cases, a resource may have a more constrained representation when embedded. These cases are indicated in the documentation and, should a full representation be necessary, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"self")," link can be used to retrieve it."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'"_embedded": {\n    "pipelines": [\n        {\n            "_links": {...},\n            "id": "1",\n            "programId": "4",\n            "name": "main",\n            "trigger": "MANUAL",\n            "status": "IDLE",\n            "updatedAt": "2019-07-09T13:10:56.125+0000",\n            "lastStartedAt": "2019-07-09T02:05:42.134+0000",\n            "lastFinishedAt": "2019-07-09T13:10:56.033+0000"\n        }\n    ]\n}\n')),(0,i.mdx)("h2",{id:"event-structure"},"Event Structure"),(0,i.mdx)("p",null,"Events are represented as JSON objects which follow the ",(0,i.mdx)("a",{parentName:"p",href:"https://www.w3.org/TR/activitystreams-core/"},"Activity Stream")," specification. Each event has a type, contained in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"@type")," property, and an object, defined in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"activitystreams:object")," property. More information can be found on the ",(0,i.mdx)("a",{parentName:"p",href:"../api-usage/receiving-events/"},"Receiving Events")," page as well as the ",(0,i.mdx)("a",{parentName:"p",href:"../../reference/events/"},"Reference Documentation"),"."),(0,i.mdx)("h3",{id:"example"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "event_id" : "3dd172b8-3e54-491b-b87c-409cb71c4bc3",\n  "event" : {\n    "@id" : "urn:oeid:cloudmanager:bc901126-5eb1-4942-a1d1-9ec3a17f8a7a",\n    "@type" : "https://ns.adobe.com/experience/cloudmanager/event/started",\n    "activitystreams:published" : "2021-08-23T08:37:41.846Z",\n    "activitystreams:to" : {\n      "@type" : "xdmImsOrg",\n      "xdmImsOrg:id" : "1234567890ABCDEF12345678@AdobeOrg"\n    },\n    "activitystreams:object" : {\n      "@id" : "https://cloudmanager.adobe.io/api/program/1/pipeline/2/execution/3",\n      "@type" : "https://ns.adobe.com/experience/cloudmanager/pipeline-execution"\n    },\n    "xdmEventEnvelope:objectType" : "https://ns.adobe.com/experience/cloudmanager/pipeline-execution"\n  }\n}\n')))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-getting-started-understanding-the-api-md-8a93c24051a01f2603bd.js.map