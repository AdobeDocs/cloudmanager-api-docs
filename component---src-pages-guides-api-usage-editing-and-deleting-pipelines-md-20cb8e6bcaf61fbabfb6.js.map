{"version":3,"file":"component---src-pages-guides-api-usage-editing-and-deleting-pipelines-md-20cb8e6bcaf61fbabfb6.js","mappings":"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","sources":["webpack://cloudmanager-api-docs/./src/pages/guides/api-usage/editing-and-deleting-pipelines.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/cloudmanager-api-docs/cloudmanager-api-docs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2 {...{\n      \"id\": \"editing-pipelines\"\n    }}>{`Editing Pipelines`}</h2>\n    <p>{`The Cloud Manager API supports partial editing of pipeline by accepting `}<inlineCode parentName=\"p\">{`PATCH`}</inlineCode>{` requests on the pipeline endpoint. The body of these requests follows the same\nstructure as the response to a `}<inlineCode parentName=\"p\">{`GET`}</inlineCode>{` request to the pipeline endpoint. However, only the changes need to be submitted. Below are a number of examples of the types of changes which are supported using this API.`}</p>\n    <h3 {...{\n      \"id\": \"editing-the-repository-or-branch\"\n    }}>{`Editing the Repository or Branch`}</h3>\n    <p>{`The body for changing the repository or branch of a pipeline is done by submitting the `}<inlineCode parentName=\"p\">{`BUILD`}</inlineCode>{` phase specifying either the `}<inlineCode parentName=\"p\">{`branch`}</inlineCode>{` or `}<em parentName=\"p\">{`both`}</em>{` the `}<inlineCode parentName=\"p\">{`branch`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`repositoryId`}</inlineCode>{` properties. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`PATCH https://cloudmanager.adobe.io/api/program/4/pipeline/1\n\n{\n  \"phases\" : [\n    {\n      \"name\":\"BUILD_1\",\n      \"type\":\"BUILD\",\n      \"repositoryId\" : \"1\",\n      \"branch\": \"develop\"\n    }\n  ]\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"building-a-tag\"\n    }}>{`Building a Tag`}</h4>\n    <p>{`Using this API, it is possible to specify a tag name instead of a branch name. To do this, specify the `}<inlineCode parentName=\"p\">{`branch`}</inlineCode>{` value to `}<inlineCode parentName=\"p\">{`refs/tags/TAGNAME`}</inlineCode>{`. For example, if the tag is `}<inlineCode parentName=\"p\">{`release-20200214`}</inlineCode>{`, you would execute:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`PATCH https://cloudmanager.adobe.io/api/program/4/pipeline/1\n\n{\n  \"phases\" : [\n    {\n      \"name\":\"BUILD_1\",\n      \"type\":\"BUILD\",\n      \"repositoryId\" : \"1\",\n      \"branch\": \"refs/tags/release-20200214\"\n    }\n  ]\n}\n`}</code></pre>\n    <InlineAlert slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Specifying a tag is `}<strong parentName=\"p\">{`only`}</strong>{` possible using this API, not the Cloud Manager UI.`}</p>\n    <h3 {...{\n      \"id\": \"changing-the-deployment-environment\"\n    }}>{`Changing the Deployment Environment`}</h3>\n    <p>{`Changing the target environment for a pipeline can be done by by submitting the `}<inlineCode parentName=\"p\">{`DEPLOY`}</inlineCode>{` phase which needs to be changed. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`PATCH https://cloudmanager.adobe.io/api/program/4/pipeline/1\n\n{\n  \"phases\" : [\n    {\n      \"name\":\"DEPLOY_1\",\n      \"type\":\"DEPLOY\",\n      \"environmentId\" : \"15\"\n    }\n  ]\n}\n`}</code></pre>\n    <InlineAlert slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Production pipelines will include two deploy phases -- be sure to specify the correct `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"changing-the-dispatcher-invalidation-or-flush-paths\"\n    }}>{`Changing the Dispatcher Invalidation or Flush Paths`}</h3>\n    <p>{`Specifically for AMS pipelines, the dispatcher paths which will be invalidated or flushed as part of the deploy process can be specified as part of the `}<inlineCode parentName=\"p\">{`DEPLOY`}</inlineCode>{` phase. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`PATCH https://cloudmanager.adobe.io/api/program/4/pipeline/1\n\n{\n  \"phases\" : [\n    {\n      \"name\":\"DEPLOY_1\",\n      \"type\":\"DEPLOY\",\n      \"steps\": [\n        \"name\": \"deploy\",\n        \"options\": {\n          \"dispatcherCacheInvalidationPaths\": [\n            \"/content/mysite/home.html\"\n          ],\n          \"dispatcherCacheFlushPaths\": [\n            \"/etc.clientlibs\"\n          ]\n        }\n      ]\n    }\n  ]\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"invalidating-a-pipelines-cache\"\n    }}>{`Invalidating a Pipeline's Cache`}</h2>\n    <p>{`Deleting a pipeline can be done by executing a `}<inlineCode parentName=\"p\">{`DELETE`}</inlineCode>{` request to the pipeline's cache endpoint, accessible via the `}<inlineCode parentName=\"p\">{`http://ns.adobe.com/adobecloud/rel/cache`}</inlineCode>{` HAL Link of the pipeline endpoint.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`DELETE https://cloudmanager.adobe.io/api/program/4/pipeline/1/cache\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"deleting-pipelines\"\n    }}>{`Deleting Pipelines`}</h2>\n    <p>{`Deleting a pipeline can be done by executing a `}<inlineCode parentName=\"p\">{`DELETE`}</inlineCode>{` request to the pipeline endpoint.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`DELETE https://cloudmanager.adobe.io/api/program/4/pipeline/1\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","mdx","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutPropertiesLoose","_excluded","_extends","mdxType","parentName","slots","isMDXComponent"],"sourceRoot":""}