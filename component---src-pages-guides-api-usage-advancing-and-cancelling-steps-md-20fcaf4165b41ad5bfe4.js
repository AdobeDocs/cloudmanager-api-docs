"use strict";(self.webpackChunkcloudmanager_api_docs=self.webpackChunkcloudmanager_api_docs||[]).push([[8342],{28246:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return p},default:function(){return u}});var t,r=a(87462),d=a(63366),s=(a(28387),a(10498)),i=a(99536),o=["components"],p={},l=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.mdx)("div",e)}),m={_frontmatter:p},c=i.Z;function u(e){var n=e.components,a=(0,d.Z)(e,o);return(0,s.mdx)(c,(0,r.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"advancing-and-cancelling-steps"},"Advancing and Cancelling Steps"),(0,s.mdx)("p",null,'Certain steps in the pipeline can be "advanced" or "cancelled" when interactive action is required due to a pipeline behavior or configuration. These actions can be performed through the Cloud Manager UI or programatically.'),(0,s.mdx)("p",null,"These actions apply to a variety of steps:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"For the ",(0,s.mdx)("a",{parentName:"li",href:"#override-code-quality-security-test-performance-test-results"},"Code Quality, Security Test, and Performance Test")," steps, advance and cancel are how important failures in these steps get overridden or rejected, respectively."),(0,s.mdx)("li",{parentName:"ul"},"For the ",(0,s.mdx)("a",{parentName:"li",href:"#go-live-approval"},"Go-Live Approval")," step, advance and cancel are how the deployment is approved or rejected, respectively."),(0,s.mdx)("li",{parentName:"ul"},"For the ",(0,s.mdx)("a",{parentName:"li",href:"#schedule-step"},"Schedule")," step, advance and cancel are how a schedule is set or the pipeline is canclled, respectively."),(0,s.mdx)("li",{parentName:"ul"},"For the Build, Security Test, and Performance Test steps, cancel can be used to cancel the step (and the pipeline) while the step is running.")),(0,s.mdx)("p",null,"For both advance and cancel functions, a ",(0,s.mdx)("inlineCode",{parentName:"p"},"PUT")," request is made to the appropriate endpoint, discoverable as the ",(0,s.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/pipeline/advance")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/pipeline/cancel")," links of the step, respectively. The body of the request will vary based on the step and circumstance."),(0,s.mdx)(l,{slots:"text",mdxType:"InlineAlert"}),(0,s.mdx)("p",null,"These requests require that the service account for the integration be assigned the Deployment Manager, Program Manager, or Business Owner role. See the Cloud Manager ",(0,s.mdx)("a",{href:"https://www.adobe.com/go/aem_cloud_mrg_usersroles_en"},"documentation")," for more information."),(0,s.mdx)("h2",{id:"advance-body-definitions"},"Advance Body Definitions"),(0,s.mdx)("h3",{id:"override-code-quality-security-test-performance-test-results"},"Override Code Quality, Security Test, Performance Test Results"),(0,s.mdx)("p",null,"To override important failures in the Code Quality, Security Test, and Performance Test steps, the request body contains an array of the metrics being overridden. The metric keys can be found in the Step Metrics response and are also listed on the ",(0,s.mdx)("a",{parentName:"p",href:"understanding-metric-data.md"},"Understanding Metric Data")," page. For example, if the ",(0,s.mdx)("inlineCode",{parentName:"p"},"coverage")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"sqale_rating")," metrics were failing and an override was desired, the body would be:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "metrics": [\n        {\n            "kpi":"coverage",\n            "override":true\n        },\n        {\n            "kpi":"sqale_rating",\n            "override":true\n        }\n    ]\n}\n')),(0,s.mdx)(l,{slots:"text",mdxType:"InlineAlert"}),(0,s.mdx)("p",null,"It is required that ",(0,s.mdx)("em",{parentName:"p"},"all")," failing important metrics be sent. Otherwise, an error response will be generated."),(0,s.mdx)("h3",{id:"go-live-approval"},"Go-Live Approval"),(0,s.mdx)("p",null,"The body for the Go-Live Approval step passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"approved")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "approved": true\n}\n')),(0,s.mdx)("h3",{id:"schedule-step"},"Schedule Step"),(0,s.mdx)("p",null,"The body for the Schedule step can take two forms. The first is where a future date/time is set. In this case, ",(0,s.mdx)("inlineCode",{parentName:"p"},"type")," in the request body is set to ",(0,s.mdx)("inlineCode",{parentName:"p"},"SCHEDULED")," and ",(0,s.mdx)("inlineCode",{parentName:"p"},"schedule")," is set to an ISO-8601 formatted date. For example:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "type":"SCHEDULED",\n    "schedule":"2018-11-16T13:45:00.000Z"\n}\n')),(0,s.mdx)("p",null,"The second form is where the deployment should be done immediately. In this case, the ",(0,s.mdx)("inlineCode",{parentName:"p"},"type")," is set to ",(0,s.mdx)("inlineCode",{parentName:"p"},"IMMEDIATE")," and no ",(0,s.mdx)("inlineCode",{parentName:"p"},"schedule")," value is required:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "type":"IMMEDIATE"\n}\n')),(0,s.mdx)("h3",{id:"resume-paused-deployment"},"Resume Paused Deployment"),(0,s.mdx)("p",null,"The body to resume a paused deployment step passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"resume")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "resume":true\n}\n')),(0,s.mdx)("h3",{id:"stop-paused-deployment"},"Stop Paused Deployment"),(0,s.mdx)("p",null,"The body to stop a paused deployment step passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"resume")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "resume":false\n}\n')),(0,s.mdx)(l,{slots:"text",mdxType:"InlineAlert"}),(0,s.mdx)("p",null,"Note that even though stopping a paused deployment causes the pipeline to end, it ",(0,s.mdx)("strong",{parentName:"p"},"must")," be sent to the advance endpoint."),(0,s.mdx)("h2",{id:"cancel-body-definitions"},"Cancel Body Definitions"),(0,s.mdx)("h3",{id:"reject-code-quality-security-test-performance-test-results"},"Reject Code Quality, Security Test, Performance Test Results"),(0,s.mdx)("p",null,"The body to reject important failures for one of these steps passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"override")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "override":false\n}\n')),(0,s.mdx)(l,{slots:"text",mdxType:"InlineAlert"}),"Unlike with the advance endpoint, listing individual metrics here is not required.",(0,s.mdx)("h3",{id:"cancel-build-security-test-performance-test-and-schedule-steps"},"Cancel Build, Security Test, Performance Test, and Schedule Steps"),(0,s.mdx)("p",null,"The body to cancel one of these running steps passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"cancel")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "cancel":true\n}\n')),(0,s.mdx)("h3",{id:"reject-go-live-approval"},"Reject Go-Live Approval"),(0,s.mdx)("p",null,"The body to reject a Go-Live Approval step passes ",(0,s.mdx)("inlineCode",{parentName:"p"},"approved")," as ",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'{\n    "approved":false\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-api-usage-advancing-and-cancelling-steps-md-20fcaf4165b41ad5bfe4.js.map