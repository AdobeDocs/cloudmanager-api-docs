(self.webpackChunkcloudmanager_api_docs=self.webpackChunkcloudmanager_api_docs||[]).push([[296],{67581:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return r},default:function(){return o}});var d=n(22122),a=n(19756),m=(n(15007),n(64983)),i=n(99536),l=["components"],r={},s={_frontmatter:r},p=i.Z;function o(e){var t=e.components,n=(0,a.Z)(e,l);return(0,m.mdx)(p,(0,d.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"receiving-events"},"Receiving Events"),(0,m.mdx)("p",null,"When Cloud Manager emits an event, all webhooks configured for that event will be called. As it is possible to reuse the same webhook for multiple events and even multiple events from different providers, webhooks should inspect the event payload in order to determine the nature of the event before handling it. This can be done by using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"@type")," and ",(0,m.mdx)("inlineCode",{parentName:"p"},"xdmEventEnvelope:objectType")," values. The ",(0,m.mdx)("inlineCode",{parentName:"p"},"@type")," value identifies the verb, i.e. the thing that happened, whereas the ",(0,m.mdx)("inlineCode",{parentName:"p"},"xdmEventEnvelope:objectType")," value identifies the noun, i.e. what type of thing the thing that happened happened to."),(0,m.mdx)("h2",{id:"event-types"},"Event Types"),(0,m.mdx)("h3",{id:"pipeline-execution-started"},"Pipeline Execution Started"),(0,m.mdx)("dl",{className:"event-description"},(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"@type")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/event/started")),(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"xdmEventEnvelope:objectType")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/pipeline-execution"))),(0,m.mdx)("h3",{id:"pipeline-execution-step-started"},"Pipeline Execution Step Started"),(0,m.mdx)("dl",{className:"event-description"},(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"@type")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/event/started")),(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"xdmEventEnvelope:objectType")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/execution-step-state"))),(0,m.mdx)("h3",{id:"pipeline-execution-step-waiting"},"Pipeline Execution Step Waiting"),(0,m.mdx)("dl",{className:"event-description"},(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"@type")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/event/waiting")),(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"xdmEventEnvelope:objectType")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/execution-step-state"))),(0,m.mdx)("h3",{id:"pipeline-execution-step-ended"},"Pipeline Execution Step Ended"),(0,m.mdx)("dl",{className:"event-description"},(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"@type")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/event/ended")),(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"xdmEventEnvelope:objectType")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/execution-step-state"))),(0,m.mdx)("h3",{id:"pipeline-execution-ended"},"Pipeline Execution Ended"),(0,m.mdx)("dl",{className:"event-description"},(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"@type")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/event/ended")),(0,m.mdx)("dt",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"xdmEventEnvelope:objectType")),(0,m.mdx)("dd",null,(0,m.mdx)("span",{className:"spectrum-Code spectrum-Code--sizeM"},"https://ns.adobe.com/experience/cloudmanager/pipeline-execution"))),(0,m.mdx)("p",null,"The body of the requests received by the webhook will vary based on the event type. The ",(0,m.mdx)("a",{parentName:"p",href:"../../reference/events.md"},"Reference Document")," details the schema for each event body."),(0,m.mdx)("h2",{id:"step-actions"},"Step Actions"),(0,m.mdx)("p",null,"Each pipeline step has an assigned ",(0,m.mdx)("inlineCode",{parentName:"p"},"action")," which indicates the type of step. New actions will be added over time. Below is the list of actions in the current release:"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"th"},"action")," value"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"validate")),(0,m.mdx)("td",{parentName:"tr",align:null},"Pipeline and Environment Validation")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"build")),(0,m.mdx)("td",{parentName:"tr",align:null},"Build and Unit Testing")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"codeQuality")),(0,m.mdx)("td",{parentName:"tr",align:null},"Code Quality Testing")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"buildImage")),(0,m.mdx)("td",{parentName:"tr",align:null},"Build Image from branch source")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"securityTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Security Testing")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"loadTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Sites Performance Testing Execution")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"assetsTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Assets Performance Testing Execution")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"reportPerformanceTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Assets Performance Testing Execution")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"productTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Product Functional Tests")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"functionalTest")),(0,m.mdx)("td",{parentName:"tr",align:null},"Custom Functional Tests")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"contentAudit")),(0,m.mdx)("td",{parentName:"tr",align:null},"Experience Audit (fka Content Audit)")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"approval")),(0,m.mdx)("td",{parentName:"tr",align:null},"Go-Live Approval")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"schedule")),(0,m.mdx)("td",{parentName:"tr",align:null},"Production Deployment Scheduling")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"managed")),(0,m.mdx)("td",{parentName:"tr",align:null},"CSE Oversight")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"deploy")),(0,m.mdx)("td",{parentName:"tr",align:null},"Deployment")))),(0,m.mdx)("h3",{id:"step-events"},"Step Events"),(0,m.mdx)("p",null,"With a few exceptions, all steps will emit ",(0,m.mdx)("em",{parentName:"p"},"start")," and ",(0,m.mdx)("em",{parentName:"p"},"end")," events. The ",(0,m.mdx)("em",{parentName:"p"},"waiting")," event is emitted when a step is waiting for user feedback, e.g. when important metrics have failed and the pipeline is waiting for a decision to override or reject those failures. There are some exceptions, however. These actions will never emit start events:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"codeQuality")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"approval")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"schedule")),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"managed"))),(0,m.mdx)("h2",{id:"validating-events"},"Validating Events"),(0,m.mdx)("p",null,"Webhooks used in Adobe I/O must be accessible from the public internet. As a result, it is a best practice to use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"x-adobe-signature")," header to validate that the event did, in fact, originate from Adobe I/O. Information on this header can be found in the Authenticating events section of the ",(0,m.mdx)("a",{parentName:"p",href:"https://www.adobe.io/apis/experienceplatform/events/docs.html#!adobedocs/adobeio-events/master/intro/webhooks_intro.md"},"Adobe I/O Events Webhooks Introduction"),"."))}o.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-api-usage-receiving-events-md-e7e9df1837b4ff8579c8.js.map