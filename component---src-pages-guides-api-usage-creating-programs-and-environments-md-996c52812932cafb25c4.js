"use strict";(self.webpackChunkcloudmanager_api_docs=self.webpackChunkcloudmanager_api_docs||[]).push([[999],{38645:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return l},default:function(){return c}});var t,o=a(87462),r=a(63366),i=(a(15007),a(64983)),m=a(99536),d=["components"],l={},p=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),s={_frontmatter:l},u=m.Z;function c(e){var n=e.components,a=(0,r.Z)(e,d);return(0,i.mdx)(u,(0,o.Z)({},s,a,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"creating-programs-and-environments"},"Creating Programs and Environments"),(0,i.mdx)("h2",{id:"creating-aem-cloud-service-programs"},"Creating AEM Cloud Service Programs"),(0,i.mdx)("p",null,"Based on the entitlements available for an organization, AEM Cloud Service programs may be created through the Cloud Manager API. This is done by executing a ",(0,i.mdx)("inlineCode",{parentName:"p"},"POST")," request to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/programs")," HAL link of the tenant resource. To discover the tenant resource, you can either navigate to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/tenant")," HAL link from any existing program ",(0,i.mdx)("em",{parentName:"p"},"or")," execute a ",(0,i.mdx)("inlineCode",{parentName:"p"},"GET")," request to ",(0,i.mdx)("inlineCode",{parentName:"p"},"https://cloudmanager.adobe.io/api/tenants"),". This response will contain exactly one tenant resource."),(0,i.mdx)("h3",{id:"creating-a-production-program"},"Creating a Production Program"),(0,i.mdx)("p",null,"To create a production program, the body of the ",(0,i.mdx)("inlineCode",{parentName:"p"},"POST")," request needs to include the type ",(0,i.mdx)("inlineCode",{parentName:"p"},"aem_cloud_service"),", a name, and at least one solution name. The allowed solutions are ",(0,i.mdx)("inlineCode",{parentName:"p"},"aemsites")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"aemassets"),"."),(0,i.mdx)(p,{slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"Creating AEM Forms programs will be available in a forthcoming release."),(0,i.mdx)("p",null,"For example:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'POST https://cloudmanager.adobe.io/api/tenant/1/programs\n\n{\n  "name": "My Second Program",\n  "type": "aem_cloud_service",\n  "solutionNames": ["aemsites"]\n}\n')),(0,i.mdx)("h3",{id:"creating-a-sandbox-program"},"Creating a Sandbox Program"),(0,i.mdx)("p",null,"To create a sandbox program, the body of the ",(0,i.mdx)("inlineCode",{parentName:"p"},"POST")," request needs to include the type ",(0,i.mdx)("inlineCode",{parentName:"p"},"aem_cloud_service"),", a name, and a capabilities object that specifies that it is a sandbox program."),(0,i.mdx)("p",null,"For example:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'POST https://cloudmanager.adobe.io/api/tenant/1/programs\n\n{\n  "name": "My Second Program",\n  "type": "aem_cloud_service",\n  "capabilities": {\n    "sandbox": true\n  }\n}\n')),(0,i.mdx)("h2",{id:"creating-aem-cloud-service-environments"},"Creating AEM Cloud Service Environments"),(0,i.mdx)("p",null,"In order to find the set of currently available regions, execute a GET request to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/regions")," HAL link of the program."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"GET https://cloudmanager.adobe.io/api/program/4/regions\n")),(0,i.mdx)("p",null,"This will return a list like this:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'{\n  "_embedded": {\n    "regions": [\n      {\n        "name": "va7"\n      },\n      {\n        "name": "nld2"\n      }\n    ]\n  },\n  "_totalNumberOfItems": 2\n}\n')),(0,i.mdx)("p",null,"The set of available regions will vary based on capacity and entitlements, so always check this list before creating an environment. The superset of possible regions are:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"aus5")," - Australia Southeast "),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"can2")," - Canada"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"deu6")," - Germany"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"gbr9")," - UK South"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"jpn4")," - Japan"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"nld2")," - West Europe"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"sgp5")," - Singapore"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"va7")," - East US"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"wa1")," - West US")),(0,i.mdx)("p",null,"Using this value, you can then execute a POST request to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"http://ns.adobe.com/adobecloud/rel/environments")," HAL link of the program with the desired name and type."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'POST https://cloudmanager.adobe.io/api/program/4/environments\n\n{\n  "name" : "my-second-dev-environment",\n  "type" : "dev",\n  "region" : "va7"\n}\n')),(0,i.mdx)("h3",{id:"important-limitations"},"Important Limitations"),(0,i.mdx)("p",null,"Usage of this API will be limited by the existing environment limits. Specifically:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Sandbox programs are limited to one environment of each type."),(0,i.mdx)("li",{parentName:"ul"},"Production programs are limited to one stage and one production environment."),(0,i.mdx)("li",{parentName:"ul"},"The total number of dev environments in production programs is limited to the number of dev environments contracted for that organization.")))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-api-usage-creating-programs-and-environments-md-996c52812932cafb25c4.js.map